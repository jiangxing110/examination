### **1.mysql 三范式:**

   第一范式（1NF）：字段具有原子性,不可再分。所有关系型数据库系统都满足第一范式）
        	数据库表中的字段都是单一属性的，不可再分。
        	例如，姓名字段，其中的姓和名必须作为一个整体，无法区分哪部分是姓，哪部分是名，如果要区分出姓和名，必须设计成两个独立的字段。
        
   第二范式（2NF）：
        第二范式（2NF）是在第一范式（1NF）的基础上建立起来的，即满足第二范式（2NF）必须先满足第一范式（1NF）。
        要求数据库表中的每个实例或行必须可以被惟一地区分。通常需要为表加上一个列，以存储各个实例的惟一标识。
   
   第三范式（3NF）要求一个数据库表中不包含已在其它表中已包含的非主关键字信息。
        帖子表中只能出现发帖人的id，而不能出现发帖人的id，还同时出现发帖人姓名，否则，只要出现同一发帖人id的所有记录，
        它们中的姓名部分都必须严格保持一致

### **2.关于mysql中字符集和排序规则说明**

   1.字符集：就是用来定义字符在数据库中的编码的集合。常见的字符集：utf8、Unicode、GBK、GB2312（支持中文）、ASCCI（不支持中文）.
   2.排序规则：数据库中的排序规则用来定义字符在进行排序和比较的时候的一种规则。常见的如下： 
       （1） utf8_general_ci 不区分大小写，utf8_general_cs 区分大小写 .
       （2） utf8_bin 规定每个字符串用二进制编码存储，区分大小写，可以直接存储二进制的内容.
   说明：所为排序规则，就是指字符比较时是否区分大小写，以及是按照字符编码进行比较还是直接用二进制数据比较。

### 3.varchar与char的区别是什么？大小限制？utf8字符集下varchar最多能存多少个字符.

   1）varchar(M)和char(M),M都表示字符数.varchar的最大长度为65535个字节,不同的编码所对应的最大可存储的字符数不同。
   
   2）char最多可以存放255个字符,不同的编码最大可用字节数不同。
   
      字符类型若为utf8，每个字符最多占3个字节，varchar最大长度不能超过21845。
 
### 4.存储过程和函数的区别

   存储过程是用户定义的一系列sql语句的集合，涉及特定表或其它对象的任务，用户可以调用存储过程，
   而函数通常是数据库已定义的方法，它接收参数并返回某种类型的值并且不涉及特定用户表。
   
### 5、事务是什么？

   事务是作为一个逻辑单元执行的一系列操作，一个逻辑工作单元必须有四个属性，称为 ACID（原子性、一致性、隔离性和持久性）属性.
   只有这样才能成为一个事务：
   原子性:事务必须是原子工作单元；对于其数据修改，要么全都执行，要么全都不执行。
   一致性:事务在完成时，必须使所有的数据都保持一致状态。在相关数据库中，所有规则都必须应用于事务的修改，以保持所有数据的完整性。
         事务结束时，所有的内部数据结构（如 B 树索引或双向链表）都必须是正确的。
   隔离性:由并发事务所作的修改必须与任何其它并发事务所作的修改隔离。事务查看数据时数据所处的状态，要么是另一并发事务修改它之前的状态，
         要么是另一事务修改它之后的状态，事务不会查看中间状态的数据。这称为可串行性，因为它能够重新装载起始数据，并且重播一系列事务，
         以使数据结束时的状态与原始事务执行的状态相同。
   持久性:事务完成之后，它对于系统的影响是永久性的。该修改即使出现系统故障也将一直保持。
   
   只有满足一致性，事务的执行结果才是正确的。
   在无并发的情况下，事务串行执行，隔离性一定能够满足。此时只要能满足原子性，就一定能满足一致性。
   在并发的情况下，多个事务并行执行，事务不仅要满足原子性，还需要满足隔离性，才能满足一致性。
   事务满足持久化是为了能应对数据库崩溃的情况。
   MySQL 默认采用自动提交模式。也就是说，如果不显式使用START TRANSACTION语句来开始一个事务，那么每个查询都会被当做一个事务自动提交。
   
   二、并发一致性问题
      丢失修改:T1 和 T2 两个事务都对一个数据进行修改，T1 先修改，T2 随后修改，T2 的修改覆盖了 T1 的修改
      读脏数据:T1 修改一个数据，T2 随后读取这个数据。如果 T1 撤销了这次修改，那么 T2 读取的数据是脏数据。
   
   
    
### 6.说出数据连接池的工作机制是什么?

   J2EE服务器启动时会建立一定数量的池连接，并一直维持不少于此数目的池连接。客户端程序需要连接时，池驱动程序会返回一个未使用的池连接并将
   其表记为忙。如果当前没有空闲连接，池驱动程序就新建一定数量的连接，新建连接的数量有配置参数决定。当使用的池连接调用完成后，池驱动程序将
   此连接表记为空闲，其他调用就可以使用这个连接。 
   实现方式，返回的Connection是原始Connection的代理，代理Connection的close方法不是真正关连接，而是把它代理的Connection对象还回
   到连接池中。

### 7、游标的作用？如何知道游标已经到了最后？

   游标用于定位结果集的行，通过判断全局变量@@FETCH_STATUS可以判断是否到了最后，通常此变量不等于0表示出错或到了最后。

### 8、触发器分为事前触发和事后触发，这两种触发有何区别，语句级触发和行级触发有何区别：

   事前触发器运行于触发事件发生之前，而事后触发器运行于触发事件发生之后。通常事前触发器可以获取事件之前和新的字段值。
   语句级触发器可以在语句执行前或后执行，而行级触发在触发器所影响的每一行触发一次。
     
### MySQL的复制原理以及流程

基本原理流程，3个线程以及之间的关联；

1. 主：binlog线程——记录下所有改变了数据库数据的语句，放进master上的binlog中；

2. 从：io线程——在使用start slave 之后，负责从master上拉取 binlog 内容，放进 自己的relay log中；

从：sql执行线程——执行relay log中的语句；



### MySQL中myisam与innodb的区别，至少5点

(1)、问5点不同；

1>.InnoDB支持事物，而MyISAM不支持事物

2>.InnoDB支持行级锁，而MyISAM支持表级锁

3>.InnoDB支持MVCC, 而MyISAM不支持

4>.InnoDB支持外键，而MyISAM不支持

5>.InnoDB不支持全文索引，而MyISAM支持。

(2)、innodb引擎的4大特性

插入缓冲（insert buffer),二次写(double write),自适应哈希索引(ahi),预读(read ahead)

(3)、2者selectcount(*)哪个更快，为什么

myisam更快，因为myisam内部维护了一个计数器，可以直接调取。

### sql优化   